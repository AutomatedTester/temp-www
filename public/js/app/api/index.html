<div class="container bs-docs-container">
  <div class="row">
  <div class="col-md-3">
    <div class="bs-sidebar hidden-print" role="complementary">
      <ul class="nav bs-sidenav">
        <li>
          <a href="#expect-api">Expect</a>
          <ul class="nav">
            <li><a href="#expect-chains">language chains</a></li>
            <li><a href="#expect-matchers">equal / contain / match</a></li>
            <li><a href="#expect-startend">startWith / endWith</a></li>
            <li><a href="#expect-negation">not</a></li>
            <li><a href="#expect-before">before / after</a></li>
            {% for entry in api.expect %}
            <li><a href="#expect-{{ entry.name }}">{{ entry.name }}{% if entry.aliases.length %} / {{ entry.aliases|join(' / ') }}{% endif %}</a></li>
            {% endfor %}
          </ul>
        </li>

        <li>
          <a href="#assertions">Assert</a>
          <ul class="nav">
          {% for entry in methods.assertions %}
            <li><a href="#assert-{{ entry.name }}">{{ entry.name }}</a></li>
          {% endfor %}
          </ul>
        </li>

        <li>
          <a href="#page-api">Page</a>
          <ul class="nav">
            <li><a href="#page-object-instance">instance</a></li>
            <li><a href="#page-commands">commands</a></li>
          </ul>
        </li>

        <li>
          <a href="#protocol">Commands/Protocol</a>
          <ul class="nav">
            <li>
              <h5><a href="#elements-headline">Finding Elements</a></h5>
            </li>
            <li><a href="#waitForElementVisible">waitForElementVisible</a></li>
            <li><a href="#waitForElementNotVisible">waitForElementNotVisible</a></li>
            <li><a href="#waitForElementPresent">waitForElementPresent</a></li>
            <li><a href="#waitForElementNotPresent">waitForElementNotPresent</a></li>
            <li><a href="#element">element</a></li>
            <li><a href="#elements">elements</a></li>
            <li><a href="#elementIdEquals">elementIdEquals</a></li>
            <li><a href="#elementIdElement">elementIdElement</a></li>
            <li><a href="#elementIdElements">elementIdElements</a></li>


            <li>
              <h5><a href="#elementinteraction-headline">Element Interaction</a></h5>
            </li>

            <li><a href="#click">click</a></li>
            <li><a href="#clearValue">clearValue</a></li>
            <li><a href="#moveToElement">moveToElement</a></li>
            <li><a href="#setValue">setValue</a></li>
            <li><a href="#submitForm">submitForm</a></li>
            <li><a href="#elementIdClear">elementIdClear</a></li>
            <li><a href="#elementIdClick">elementIdClick</a></li>
            <li><a href="#elementIdValue">elementIdValue</a></li>
            <li><a href="#keys">keys</a></li>
            <li><a href="#submit">submit</a></li>

            <li>
              <h5><a href="#elementstate-headline">Element State</a></h5>
            </li>

            <li><a href="#getAttribute">getAttribute</a></li>
            <li><a href="#getCssProperty">getCssProperty</a></li>
            <li><a href="#getElementSize">getElementSize</a></li>
            <li><a href="#getTagName">getTagName</a></li>
            <li><a href="#getText">getText</a></li>
            <li><a href="#getValue">getValue</a></li>
            <li><a href="#isVisible">isVisible</a></li>
            <li><a href="#elementActive">elementActive</a></li>
            <li><a href="#elementIdAttribute">elementIdAttribute</a></li>
            <li><a href="#elementIdCssProperty">elementIdCssProperty</a></li>
            <li><a href="#elementIdDisplayed">elementIdDisplayed</a></li>
            <li><a href="#elementIdEnabled">elementIdEnabled</a></li>
            <li><a href="#elementIdName">elementIdName</a></li>
            <li><a href="#elementIdSelected">elementIdSelected</a></li>
            <li><a href="#elementIdSize">elementIdSize</a></li>
            <li><a href="#elementIdText">elementIdText</a></li>

            <li>
              <h5><a href="#elementlocation-headline">Element Location</a></h5>
            </li>

            <li><a href="#getLocation">getLocation</a></li>
            <li><a href="#getLocationInView">getLocationInView</a></li>
            <li><a href="#elementIdLocationInView">elementIdLocationInView</a></li>
            <li><a href="#elementIdLocation">elementIdLocation</a></li>

            <li>
              <h5><a href="#document-headline">Document Handling</a></h5>
            </li>
            <li><a href="#injectScript">injectScript</a></li>
            <li><a href="#source">source</a></li>
            <li><a href="#execute">execute</a></li>
            <li><a href="#executeAsync">executeAsync</a></li>

            <li>
              <h5><a href="#sessions-headline">Session Related</a></h5>
            </li>
            <li><a href="#getLogTypes">getLogTypes</a></li>
            <li><a href="#getLog">getLog</a></li>
            <li><a href="#isLogAvailable">isLogAvailable</a></li>
            <li><a href="#end">end</a></li>
            <li><a href="#session">session</a></li>
            <li><a href="#sessions">sessions</a></li>
            <li><a href="#timeouts">timeouts</a></li>
            <li><a href="#timeoutsAsyncScript">timeoutsAsyncScript</a></li>
            <li><a href="#timeoutsImplicitWait">timeoutsImplicitWait</a></li>
            <li><a href="#status">status</a></li>
            <li><a href="#sessionLog">sessionLog</a></li>
            <li><a href="#sessionLogTypes">sessionLogTypes</a></li>

            <li>
              <h5><a href="#navigation-headline">Navigation</a></h5>
            </li>

            <li><a href="#getTitle">getTitle</a></li>
            <li><a href="#init">init</a></li>
            <li><a href="#urlHash">urlHash</a></li>
            <li><a href="#url">url</a></li>
            <li><a href="#back">back</a></li>
            <li><a href="#forward">forward</a></li>
            <li><a href="#refresh">refresh</a></li>
            <li><a href="#title">title</a></li>

            <li>
              <h5><a href="#contexts-headline">Window Related</a></h5>
            </li>

            <li><a href="#switchWindow">switchWindow</a></li>
            <li><a href="#resizeWindow">resizeWindow</a></li>
            <li><a href="#setWindowPosition">setWindowPosition</a></li>
            <li><a href="#maximizeWindow">maximizeWindow</a></li>
            <li><a href="#closeWindow">closeWindow</a></li>
            <li><a href="#window">window</a></li>
            <li><a href="#windowHandle">windowHandle</a></li>
            <li><a href="#windowHandles">windowHandles</a></li>
            <li><a href="#windowMaximize">windowMaximize</a></li>
            <li><a href="#windowPosition">windowPosition</a></li>
            <li><a href="#windowSize">windowSize</a></li>
            <li><a href="#frame">frame</a></li>
            <li><a href="#frameParent">frameParent</a></li>

            <li>
              <h5><a href="#cookies-headline">Cookies</a></h5>
            </li>
            <li><a href="#getCookies">getCookies</a></li>
            <li><a href="#getCookie">getCookie</a></li>
            <li><a href="#setCookie">setCookie</a></li>
            <li><a href="#deleteCookie">deleteCookie</a></li>
            <li><a href="#deleteCookies">deleteCookies</a></li>
            <li><a href="#cookie">cookie</a></li>

            <li>
              <h5><a href="#useractions-headline">User Actions</a></h5>
            </li>

            <li><a href="#doubleClick">doubleClick</a></li>
            <li><a href="#mouseButtonClick">mouseButtonClick</a></li>
            <li><a href="#mouseButtonDown">mouseButtonDown</a></li>
            <li><a href="#mouseButtonUp">mouseButtonUp</a></li>
            <li><a href="#moveTo">moveTo</a></li>

            <li>
              <h5><a href="#userprompts-headline">User Prompts</a></h5>
            </li>
            <li><a href="#acceptAlert">acceptAlert</a></li>
            <li><a href="#dismissAlert">dismissAlert</a></li>
            <li><a href="#getAlertText">getAlertText</a></li>
            <li><a href="#setAlertText">setAlertText</a></li>

            <li>
              <h5><a href="#screens-headline">Screen Capture</a></h5>
            </li>
            <li><a href="#saveScreenshot">saveScreenshot</a></li>
            <li><a href="#screenshot">screenshot</a></li>

            <li>
              <h5><a href="#mobile-headline">Mobile Related</a></h5>
            </li>

            <li><a href="#getOrientation">getOrientation</a></li>
            <li><a href="#setOrientation">setOrientation</a></li>
            <li><a href="#contexts">contexts</a></li>
            <li><a href="#currentContext">currentContext</a></li>
            <li><a href="#setContext">setContext</a></li>

            <li>
              <h5><a href="#utilities-headline">Utilities/Debugging</a></h5>
            </li>

            <li><a href="#pause">pause</a></li>
            <li><a href="#useCss">useCss</a></li>
            <li><a href="#useXpath">useXpath</a></li>
            <li><a href="#perform">perform</a></li>

          </ul>
        </li>
      </ul>
    </div>
  </div>

<div class="col-md-9" role="main">
  <div class="docs-section">
    <div class="migrating-guide"><a target="_blank" href="https://github.com/nightwatchjs/nightwatch/wiki/Migrating-to-Nightwatch-1.0">Migrating from v0.9?</a></div>
    <div class="page-header">
      <h2 id="expect-api">Expect</h2>
    </div>
    <br>
    <p>Nightwatch provides a fluent BDD-style interface for performing assertions on elements, defined on the <code>expect</code> namespace on the main Nightwatch instance. It is based on the <a href="http://chaijs.com/api/bdd/" target="_blank">Chai Expect</a> assertion library and provides a greater level of flexibility, also adding new capabilities over the classic <code>assert</code> interface.</p>
    <p>It uses a chain-able language to construct assertions given an element specified by a css/xpath selector. A simple example looks like the following:</p>

    <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
this.demoTest = function (browser) {
  // start with identifying the element
  // and then assert the element is present
  browser.expect.element('#main').to.be.present;

  // or assert the element is visible
  browser.expect.element('#main').to.be.visible;
};</code></pre>
    </div>


    <div class="apimethod">
      <h3 id="expect-chains"><code>Language Chains</code></h3>
      <p>The following are provided as chainable getters to improve the readability of your assertions. They do not provide testing capabilities and the order is not important.</p>
      <ul>
        <li>to</li>
        <li>be</li>
        <li>been</li>
        <li>is</li>
        <li>that</li>
        <li>which</li>
        <li>and</li>
        <li>has</li>
        <li>have</li>
        <li>with</li>
        <li>at</li>
        <li>does</li>
        <li>of</li>
      </ul>
    </div>

    <div class="apimethod">
      <h3 id="expect-matchers"><code>.equal(value)/.contain(value)/.match(regex)</code></h3>
      <p>These methods will perform assertions on the specified target on the current element. The targets can be an attribute value, the element's inner text and a css property.</p>
      <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
this.demoTest = function (browser) {
  browser.expect.element('#main').text.to.equal('The Night Watch');

  browser.expect.element('#main').text.to.contain('The Night Watch');

  browser.expect.element('#main').to.have.css('display').which.equals('block');
};</code></pre>
      </div>
    </div>

    <div class="apimethod">
      <h3 id="expect-startend"><code>.startsWith(value)/.endsWith(value)</code></h3>
      <p>Same as `equal`/`contain`/`match`.</p>
      <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
this.demoTest = function (browser) {
  browser.expect.element('#main').text.to.endWith('Watch');

  browser.expect.element('#main').text.to.startWith('The');
};</code></pre>
      </div>


    </div>

    <div class="apimethod">
      <h3 id="expect-negation"><code>.not</code></h3>
      <p>Negates any of assertions following in the chain.</p>
      <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
this.demoTest = function (browser) {
  browser.expect.element('#main').text.to.not.equal('The Night Watch');

  browser.expect.element('#main').text.to.not.contain('The Night Watch');

  browser.expect.element('#main').to.have.css('display').which.does.not.equal('block');
};</code></pre>
      </div>

    </div>

    <div class="apimethod">
      <h3 id="expect-before"><code>.before(ms)/.after(ms)</code></h3>
      <p>These methods perform the same thing which is essentially retrying the assertion for the given amount of time (in milliseconds). <code>before</code> or <code>after</code> can be chained to any assertion and thus adding retry capability.</p>

        <p>You can change the polling interval by defining a <code>waitForConditionPollInterval</code> property (in milliseconds) as a global property in your <code>nightwatch.json</code> or in your external globals file.
        Similarly, a default timeout can be specified as a global <code>waitForConditionTimeout</code> property (in milliseconds).
      </p>
      <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
this.demoTest = function (browser) {
  browser.expect.element('#main').text.to.contain('The Night Watch').before(1000);

  browser.expect.element('#main').text.to.not.contain('The Night Watch').after(500);
};</code></pre>
      </div>

    </div>
    <!-- ============================================================
    // Expect
    ============================================================ -->

    <div class="commands">
      {% for method in api.expect %}
      <div class="apimethod">
        <h3 id="expect-{{method.name}}"><code>{{method.display}}</code></h3>

        {% autoescape false %}{{method.descr}}{% endautoescape %}

        {% if method.params.length %}
        <h5>Parameters:</h5>
        <div class="table-responsive">
          <table class="table table-bordered table-striped">
            <thead>
            <tr>
              <th style="width: 100px;">Name</th>
              <th style="width: 100px;">Type</th>
              <th>description</th>
            </tr>
            </thead>
            <tbody>

            {% for param in method.params %}
            <tr>
              <td><code>{{param.name}}</code>{% if param.optional %}<br><span class="optional">Optional</span>{% endif %}</td>
              <td>{{param.types}}</td>
              <td>{% autoescape false %}{{param.descr}}{% endautoescape %}</td>
            </tr>
            {% endfor %}
            </tbody>
          </table>
        </div>
        {% endif %}


        {% if method.example %}
        <h5>Usage:</h5>
        <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
{{method.example}}</code></pre>
        </div>
        {% endif %}
      </div>  <!-- end .apimethod -->
      {% endfor %}
    </div>
    <!-- ============================================================
    // END Expect
    ============================================================ -->

  </div>

  <div class="docs-section">
    <div class="page-header">
      <h2 id="assertions">Assert</h2>
    </div>
    <br>
    <p>The classic <code>assert</code>/<code>verify</code> library is still available on the Nightwatch instance as two objects containing the same methods to perform assertions on elements:
      <ul>
        <li><code>.assert</code> - when an assertion fails, the test ends, skipping all other assertions.</li>
        <li><code>.verify</code> - when an assertion fails, the test logs the failure and continues with other assertions.</li>
      </ul>
    </p>
<p>This will end the test:<br>
  <pre style="padding-top: 10px"><code class="language-javascript">client.assert.visible('.non_existing');</code></pre>
</p><p>
  But this will just log the failure and continue:<br>
  <pre style="padding-top: 10px"><code class="language-javascript">client.verify.visible(".non_existing");</code></pre>
</p>
<h4>Node.js Assert Module</h4>
<p>
  Nightwatch.js extends <a href="http://nodejs.org/api/assert.html" target="_blank">Node.js assert module</a>,
  so you can also use any of the available methods there in your tests.
</p>

<h4>Automatically retrying failed assertions</h4>
<p>
  You can tell Nightwatch to automatically retry failed assertions until a given timeout is reached, before the test runner gives up and fails the test.
  This can be accomplished by setting the property <code>retryAssertionTimeout</code> (in milliseconds) in the <code>globals</code> file.

  <br><br>
  For example: <code>retryAssertionTimeout = 2000</code>
</p>
  <!-- ============================================================
  // Assertions
  ============================================================ -->
  <div class="assertions">
  {% for entry in methods.assertions %}
    {% set method = entry %}
    <!-- {# {% include_partial "/js/app/api/apimethod.html" with index = loop.index0 %}#}-->
    <div class="apimethod">
  <a name="assert-{{method.name}}"></a>
  <h3 id="assert-{{method.name}}"><code>.{{method.name}}()</code></h3>
  <p>{% autoescape false %}{{method.descr}}{% endautoescape %}</p>

  <h5>Parameters:</h5>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
       <tr>
         <th style="width: 100px;">Name</th>
         <th style="width: 100px;">Type</th>
         <th>description</th>
       </tr>
      </thead>
      <tbody>
       {% for param in method.parameters %}
       <tr>
         <td><code>{{param.name}}</code>{% if param.optional %}<br><span class="optional">Optional</span>{% endif %}</td>
         <td>{{param.type}}</td>
         <td>{% autoescape false %}{{param.descr}}{% endautoescape %}</td>
       </tr>
       {% endfor %}
      </tbody>
    </table>
  </div>

  <h5>Usage:</h5>
  <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
this.demoTest = function (browser) {

  {{method.usage}}

};</code></pre>
    </div>
  </div> <!-- end .apimethod -->
  {% endfor %}
  </div>
  <!-- ============================================================
  // END Assertions
  ============================================================ -->
  </div>

  <!-- ============================================================
    // Page
    ============================================================ -->

  <div class="docs-section">
    <div class="page-header">
      <h2 id="page-api">Page Object API</h2>
    </div>
    <br>
    <p>
      Page objects provide an additional layer of abstraction for test case creation. Page objects are defined in modules and parsed into factory functions that create page object instances. These factories are accessible through the <code>page</code> reference within the command API (accessible through the <code>browser</code> object) using the name of the module that defines them.
    </p>

    <h5>Example:</h5>
    <div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
module.exports = {
  // can be string or function
  url: function () {
    return this.api.launchUrl;
  },

  elements: {
    // shorthand, specifies selector
    mySubmitButton: 'input[type=submit]'

    // full
    myTextInput: {
      selector: 'input[type=text]',
      locateStrategy: 'css selector'
    }
  },

  commands: [
    {
      myCustomPause: function () {
        this.api.pause(this.props.myPauseTime);
      }
    }
  ],

  // object version (best considered immutable)
  props: {
    myPauseTime: 1000
  },

  sections: {

    myFooterSection: {

      selector: '#my-footer',
      locateStrategy: 'css selector',

      elements: {
        myLogo: {
          selector: '.my-logo',
          locateStrategy: 'css selector'
        }
      },

      commands: [
        {
          myMoveToLogo: function () {
            this.moveToElement('@myLogo', this.props.myLogoX, this.props.myLogoY);
          }
        }
      ],

      // function version (recommended)
      props: function () {
        return {
          myLogoX: 10,
          myLogoY: 10
        };
      },

      sections: {
        // additional, nested sections
      }
    }
  }
};</code></pre>
    </div>

    <div class="assertions">
      <div class="apimethod">

        <h3>Page Object Module</h3>
        <div class="table-responsive">
          <table class="table table-bordered table-striped">
            <thead>
            <tr>
              <th style="width: 100px;">Name</th>
              <th style="width: 100px;">Type</th>
              <th>description</th>
            </tr>
            </thead>
            <tbody>

            <tr>
              <td><code>commands</code></td>
              <td><code>Array</code></td>
              <td>A list of objects containing functions to represent methods added to the page object instance.</td>
            </tr>
            <tr>
              <td><code>elements</code></td>
              <td><code>Object</code>|<code>Array</code></td>
              <td>An object, or array of objects, of named element definitions to be used as element selectors within element commands called from the page object.</td>
            </tr>
            <tr>
              <td><code>props</code></td>
              <td><code>Object</code>|<code>Function</code></td>
              <td>An object or a function returning an object representing a container for user variables. Props objects are copied directly into the props property of the page object instance.</td>
            </tr>
            <tr>
              <td><code>sections</code></td>
              <td><code>Object</code></td>
              <td>An object of named sections definitions defining the sections within the page object.</td>
            </tr>
            <tr>
              <td><code>url</code></td>
              <td><code>String</code>|<code>Function</code></td>
              <td>A url or function returning a url to be used in a <code>url()</code> command when the page's <code>navigate()</code> method is called.</td>
            </tr>

            </tbody>
          </table>
        </div>

        <h2 id="page-object-instance">Page Object Instance</h2>
        <p>Page object module definitions are used to define page object instances when their respective factory functions within the <code>page</code> reference of the standard command API is called.</p>
        <pre style="padding-top: 10px"><code class="language-javascript">const myPageObject = browser.page.MyPage(); // defined in MyPage.js module</code></pre>

        <p>Every time a factory function like MyPage above is called, a new instance of the page object is created.</p>

        <h3 id="page-properties">Properties</h3>

        <div class="table-responsive">
          <table class="table table-bordered table-striped">
            <thead>
            <tr>
              <th style="width: 100px;">Name</th>
              <th style="width: 100px;">Type</th>
              <th>description</th>
            </tr>
            </thead>
            <tbody>

            <tr>
              <td><code>api</code></td>
              <td><code>Object</code></td>
              <td>A reference providing access to the full Nightwatch command API, usually known as <code>browser</code> in test cases. This is used to access those commands that are not part of the subset of commands within the page object API.</td>
            </tr>
            <tr>
              <td><code>elements</code></td>
              <td><code>Object</code></td>
              <td>A map of Element objects used by element selectors.</td>
            </tr>
            <tr>
              <td><code>name</code></td>
              <td><code>string</code></td>
              <td>The name of the page object as defined by its module name (not including the extension). This is the same name used to access the page object factory from the <code>page</code> reference in the command API.</td>
            </tr>
            <tr>
              <td><code>props</code></td>
              <td><code>Object</code></td>
              <td>A reference to props object assigned from the module definition. <br><br><strong>Note:</strong> this will be the same props object for all instances of the page object if defined as an object instance within the page object module. If you wish for each props object to be unique, define props in the module as a function that would return a new props object for each new page object instance.</td>
            </tr>
            <tr>
              <td><code>section</code></td>
              <td><code>Object</code></td>
              <td>A map of Sections objects defined for the page object. This will only contain sections within the page object module's root <code>sections</code> definition. Nested sections are accessible through their parent section's own <code>section</code> reference.</td>
            </tr>

            <tr>
              <td><code>url</code></td>
              <td><code>string</code>|<code>Function</code></td>
              <td>The url value from the page object module, either a string or a function depending on how it was defined there.</td>
            </tr>

            </tbody>
          </table>
        </div>

        <h3 id="page-methods">Methods</h3>

        <h3 id="page-navigate"><code>.navigate()</code></h3>
        <p>Navigates to the resolved url defined for the page object using the command API's <code>url()</code> command. This command is generally used in place of the command API's <code>url()</code> when working with page objects because the <code>url</code> member of the page object is the user-defined url string or function and not the call used to navigate to a url.</p>

        <h3>Element Instances</h3>

        <p>Element instances encapsulate the definition used to handle element selectors. Generally you won't need to access them directly, instead referring to them using their <code>@</code>-prefixed names for selector arguments, but they are available through a page object or section's <code>elements</code> property.</p>


        <h3>Section Instances</h3>

        <p>Page object section instances are accessed from the <code>section</code> property of a page object instance (note that this is the singular version of "section" whereas the plural version, "sections", was used in the module definition). Sections are created automatically through the page object factory and are available directly as properties from the <code>section</code> reference.</p>

        <pre style="padding-top: 10px"><code class="language-javascript">
const myPageObject = browser.page.MyPage();
const mySection = myPageObject.section.MySection; // from a `sections: {}` block in page object
        </code></pre>

        <h3 id="page-commands">Page Object Commands</h3>
        <p>All the Nightwatch command and assertions API is inherited by page objects. </p>

        <h3><code>Custom Commands</code></h3>
        <p></p>

        <div class="table-responsive">
          <table class="table table-bordered table-striped">
            <thead>
            <tr>
              <th style="width: 100px;">Name</th>
              <th style="width: 100px;">Type</th>
              <th>description</th>
            </tr>
            </thead>
            <tbody>

            <tr>
              <td><code>commands</code></td>
              <td>Array</td>
              <td>A list of objects containing functions to represent methods added to the page object instance.</td>
            </tr>

            </tbody>
          </table>
        </div>
        <p>Page object commands considerations:</p>
        <ul>
          <li>
            <strong>Access:</strong> Page object commands are defined within page object modules. They can be in the module root object within the commands list or within section definitions (also in a commands), but only exist for the definition they're within.<br><br>
            Page object commands in the module root commands are not available in child sections and section commands are not available in parent sections or the root page object.
          </li>
          <li><strong>Context:</strong> Page object command context (the value of this) is the page object (for sections its the section object). </li>
          <li><strong>Execution:</strong> Page object commands are not called from within the command queue. Code in a page object command is executed immediately when the function is called. </li>
          <li><strong>Chaining:</strong> Page object commands must return a value for chaining. This can be anything, but it's recommended you stick to <code>this</code> to allow your commands to be chained in the context of the page object instance. </li>
        </ul>

      </div> <!-- end .apimethod -->

    </div>
    <!-- ============================================================
    // END Page
    ============================================================ -->
  </div>

  <div class="docs-section">
    <div class="page-header">
      <h2 id="protocol">Commands</h2>
    </div>
    <p>Nightwatch provides the basic WebDriver protocol mappings and also various composite commands to ensure a more fluent and convenient syntax for writing tests.</p>
    <ul>
      <li>composite commands - such as <code>getValue</code> or <code>isVisible</code>, usually incorporate two or more WebDriver protocol commands</li>
      <li>protocol commands - are most of the times simple mappings to the <a href="https://www.w3.org/TR/webdriver/" target="_blank">W3C WebDriver</a> protocol or, in some cases, its predecessor - the <a href="https://github.com/SeleniumHQ/selenium/wiki/JsonWireProtocol" target="_blank">Selenium JsonWireProtocol</a> protocol.</li>
    </ul>

    <p>Some of them are basic commands (such as <code>url</code> and <code>execute</code>) and others are internal commands being used by Nightwatch commands and assertions.</p>

    <h3>The callback function</h3>
    <p>Each method below allows an <code>callback</code> argument to be passed as the last argument. The callback function will then be called after the command is completed
      with the main API (<code>browser</code>) as the context and the response object as argument.</p>
    <div class="sample-test"><pre data-language="javascript"><code class="language-javascript">
this.demoTest = function (browser) {

  browser.click("#main ul li a.first", function(response) {
    this.assert.ok(browser === this, "Check if the context is right.");
    this.assert.ok(typeof response == "object", "We got a response object.");
  });

};</code></pre></div>

  <!-- ============================================================
    // Protocol commands
    ============================================================ -->
  <div class="protocolcommands">
  {% set sectionsData = {
    'protocol.elements' : ['elements-headline', 'Finding Elements',
      [
        'The commands listed below allow lookup of individual elements and collections of elements. Element retrieval searches are performed using a provided selector, in usually a CSS selector or, less often, an Xpath selector.',
        'The convenience commands, such as <code>.waitForElementVisible()</code> can take a default locator strategy. More info on <a href="https://www.w3.org/TR/webdriver/#locator-strategies" target="_blank">locator strategy</a> can be found on the WebDriver page.',
        'Each element has an associated web element reference (a UUID) that uniquely identifies the element across all browsing contexts.'
      ]
    ],
    'protocol.elementinteraction' : ['elementinteraction-headline', 'Element Interaction'],
    'protocol.elementstate' : ['elementstate-headline', 'Element State', 'Details on how WebDriver checks if the element is displayed are available <a href="https://www.w3.org/TR/webdriver/#h-element-displayedness" target="_blank">Element Displayedness</a> page.'],
    'protocol.elementlocation' : ['elementlocation-headline', 'Element Location'],
    'protocol.document' : ['document-headline', 'Document Handling'],
    'protocol.sessions' : ['sessions-headline', 'Sessions',
      'A WebDriver session represents the connection between a client and a remote WebDriver server. Read more on <a href="https://www.w3.org/TR/webdriver/#sessions" target="_blank">WebDriver page</a>.'],

    'protocol.navigation' : ['navigation-headline', 'Navigation',
      'The commands in this section allow navigation to new URLs and introspection of the currently loaded url.'],

    'protocol.contexts' : ['contexts-headline', 'Window Related'],
    'protocol.cookies' : ['cookies-headline', 'Cookies'],
    'protocol.useractions' : ['useractions-headline', 'User Actions'],
    'protocol.userprompts' : ['userprompts-headline', 'User Prompts'],
    'protocol.screens' : ['screens-headline', 'Screen Capture'],
    'protocol.mobile' : ['mobile-headline', 'Mobile Related'],
    'protocol.utilities': ['utilities-headline', 'Utilities / Debugging'],
    'protocol' : ''
  } %}
  {% set sectionsDataNames = [
    'protocol.elements',
    'protocol.elementinteraction',
    'protocol.elementstate',
    'protocol.elementlocation',
    'protocol.document',
    'protocol.sessions',
    'protocol.navigation',
    'protocol.contexts',
    'protocol.cookies',
    'protocol.useractions',
    'protocol.userprompts',
    'protocol.screens',
    'protocol.mobile',
    'protocol.utilities'
  ] %}

  {% for section in sectionsDataNames %}

  {% autoescape false %}
    <h3 class="section" id="{{sectionsData[section][0]}}">{{sectionsData[section][1]}}</h3>
    {% if sectionsData[section][2] %}
      {% if Array.isArray(sectionsData[section][2]) %}
        {% set sectionEntry = sectionsData[section][2]; %}

        {% for section in sectionEntry %}
        <p>{{ section }}</p>
        {% endfor %}
      {% else %}
        <p>{{sectionsData[section][2]}}</p>
      {% endif %}
    {% endif %}
  {% endautoescape %}

  {% for method in api[section] %}
  <div class="apimethod">
    <h3 id="{{method.name}}"><a href="/api/{{method.name}}.html"><code>.{{method.name}}()</code></a></h3>

    {% autoescape false %}{{method.descr}}{% endautoescape %}

    <h5>Parameters:</h5>
    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
         <tr>
           <th style="width: 100px;">Name</th>
           <th style="width: 100px;">Type</th>
           <th>description</th>
         </tr>
        </thead>
        <tbody>
         {% for param in method.params %}
         <tr>
           <td><code>{{param.name}}</code>{% if param.optional %}<br><span class="optional">Optional</span>{% endif %}</td>
           <td>{{param.types}}</td>
           <td>{% autoescape false %}{{param.descr}}{% endautoescape %}</td>
         </tr>
         {% endfor %}
        </tbody>
      </table>
    </div>

    {% if method.returns %}
    <h5>Returns</h5>
    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
         <tr>
           <th style="width: 200px;">Type</th>
           <th>description</th>
         </tr>
        </thead>
        <tbody>
         <tr>
           <td>{{method.returns.type}}</td>
           <td>{% autoescape false %}{{method.returns.descr}}{% endautoescape %}</td>
         </tr>
        </tbody>
      </table>
    </div>
    {% endif %}
    {% if method.example %}
    <h5>Usage:</h5>
<div class="sample-test">
<pre data-language="javascript"><code class="language-javascript">
{{method.example}}</code></pre>
</div>
  {% endif %}

  </div>
  {% endfor %}
  {% endfor %}

  </div>
  <!-- ============================================================
    // END Protocol commands
    ============================================================ -->

  </div>

</div>
</div>
  </div>
