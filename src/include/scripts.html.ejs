<script src="/js/third-party/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<script src="/js/third-party/prism.js"></script>

<script src="/js/third-party/underscore-min.js"></script>
<script src="/js/third-party/swig.min.js"></script>
<script src="/js/third-party/dominomvc-0.1.0.js"></script>
<script src="/js/third-party/uuidv4.min.js"></script>

<script src="/js/app/views.js?v=11093"></script>
<script src="/js/app/sidebar.js?v=19103"></script>
<script src="/js/app/api/api.js?v=19103"></script>
<script src="/js/app/guide/guide.js"></script>
<script src="/js/app/blog/blog.js"></script>
<script src="/js/app/app.js?v=11093"></script>

<script src="https://player.vimeo.com/api/player.js" async defer></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92784163-1"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {dataLayer.push(arguments);}
  gtag('js', new Date());
  const GA_LOCAL_STORAGE_KEY = 'ga:clientId';

  if (window.localStorage) {
    if (!localStorage.getItem('v2-beta-banner-shown')) {
      $('#survey-banner-index').addClass('show');
      $('#survey-banner-section').addClass('show');
      $('body').addClass('banner-visible');
    }

    if (localStorage.getItem(GA_LOCAL_STORAGE_KEY)) {
      gtag('js', new Date());
      gtag('config', 'UA-92784163-1', {
        send_page_view: true,
        client_storage: 'none',
        client_id: localStorage.getItem(GA_LOCAL_STORAGE_KEY),
      });
    } else {
      window.localStorage.setItem(GA_LOCAL_STORAGE_KEY, uuidv4());
      gtag('js', new Date());
      gtag('config', 'UA-92784163-1', {
        send_page_view: true,
        client_storage: 'none',
        client_id: localStorage.getItem(GA_LOCAL_STORAGE_KEY),
      });
    }
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
<script type="text/javascript">
  docsearch({
    container: '#docsearch',
    apiKey: '37c74f46d0eab021bc430dc17ebfc089',
    indexName: 'nightwatchjs',
    transformItems: function(items) {
      return items.map(function(item) {
        if (!item.content) {
          item.content = item.url.replace('#apimethod-page', '');
        }

        if (item.hierarchy && !item.hierarchy.lvl1) {
          item.hierarchy.lvl1 = item.content.replace('https://nightwatchjs.org/', '');
          item.type = 'lvl1';
        }

        return item;
      });
    },
    debug: false
  });

</script>

